<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ፍኖተ ብርሀን ዘ ብሔረ ጽጌ Sunday School</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+Ethiopic:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2E7D32;
            --primary-dark: #1B5E20;
            --secondary: #D32F2F;
            --light: #f8fafc;
            --dark: #1a1a2e;
            --text: #2c3e50;
            --success: #388E3C;
            --warning: #F57C00;
            --danger: #D32F2F;
            --gray: #78909C;
            --border: #e0e0e0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --radius: 10px;
            --logo-green: #2E7D32;
            --logo-red: #D32F2F;
            --logo-gold: #FFD700;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text);
            background-color: #f5f7fa;
            -webkit-font-smoothing: antialiased;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            width: 100%;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, var(--logo-green), #1B5E20);
            color: white;
            padding: 18px 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            font-size: 2.2rem;
            color: var(--logo-gold);
        }
        
        .logo-text h1 {
            font-family: 'Noto Sans Ethiopic', sans-serif;
            font-size: 1.6rem;
            font-weight: 600;
            line-height: 1.3;
        }
        
        .logo-text p {
            font-size: 0.85rem;
            opacity: 0.9;
            margin-top: 2px;
        }
        
        .contact-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .phone {
            background: rgba(255, 255, 255, 0.15);
            padding: 10px 18px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            font-size: 0.95rem;
            white-space: nowrap;
        }
        
        /* Hero Section */
        .hero {
            padding: 50px 0;
            text-align: center;
            background-color: white;
            border-bottom: 1px solid var(--border);
        }
        
        .hero h2 {
            font-size: 2.2rem;
            color: var(--dark);
            margin-bottom: 15px;
            font-weight: 700;
        }
        
        .hero p {
            font-size: 1.05rem;
            max-width: 700px;
            margin: 0 auto 25px;
            color: var(--text);
            line-height: 1.7;
        }
        
        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin: 35px 0;
        }
        
        /* Mobile-first sidebar order */
        .sidebar {
            order: 2;
        }
        
        .main-content {
            order: 1;
        }
        
        @media (min-width: 993px) {
            .main-content {
                order: 1;
            }
            
            .sidebar {
                order: 2;
            }
        }
        
        @media (max-width: 992px) {
            .content-wrapper {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            /* On mobile: Contact section at bottom */
            .contact-section {
                order: 3;
                margin-top: 20px;
            }
            
            /* On mobile: Project details above contact */
            .project-details-card {
                order: 2;
            }
            
            /* On mobile: Main content first */
            .main-content {
                order: 1;
            }
        }
        
        /* Card Styling */
        .card {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 28px;
            margin-bottom: 25px;
            border-top: 4px solid var(--logo-green);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
        
        .card h3 {
            color: var(--dark);
            font-size: 1.4rem;
            margin-bottom: 18px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Progress Section */
        .progress-section {
            text-align: center;
        }
        
        .progress-bar {
            height: 14px;
            background-color: #e8f5e9;
            border-radius: 7px;
            overflow: hidden;
            margin: 25px 0;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, var(--logo-green), var(--logo-gold));
            border-radius: 7px;
            transition: width 0.8s ease;
        }
        
        .progress-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-weight: 600;
        }
        
        .progress-stat {
            flex: 1;
            padding: 0 10px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            color: var(--logo-green);
            font-weight: 700;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-top: 5px;
        }
        
        /* Video Section - FIXED SIZE */
        .video-container {
            background-color: #000;
            border-radius: var(--radius);
            overflow: hidden;
            margin-top: 15px;
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 500px;
        }
        
        .video-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .video-embed {
            width: 100%;
            height: 100%;
            border: 0;
        }
        
        .video-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            color: white;
        }
        
        .video-placeholder i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--logo-gold);
        }
        
        .video-description {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: var(--radius);
            border-left: 4px solid var(--logo-green);
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        .video-info {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
            font-size: 0.85rem;
            color: var(--gray);
            flex-wrap: wrap;
            gap: 10px;
        }
        
        /* Responsive video sizing */
        @media (max-width: 768px) {
            .video-container {
                height: 400px;
            }
        }
        
        @media (max-width: 576px) {
            .video-container {
                height: 350px;
            }
        }
        
        @media (max-width: 480px) {
            .video-container {
                height: 300px;
            }
        }
        
        /* Comments Section */
        .comment-form {
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 18px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
            font-size: 0.95rem;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: all 0.3s;
            background-color: white;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--logo-green);
            box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        @media (max-width: 576px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }
        
        .btn {
            background-color: var(--logo-green);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
        }
        
        .btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(46, 125, 50, 0.2);
        }
        
        .btn-secondary {
            background-color: var(--logo-red);
        }
        
        .btn-secondary:hover {
            background-color: #c62828;
        }
        
        /* Comments List */
        .comments-list {
            max-height: 500px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .comment-item {
            background-color: #f8fafc;
            padding: 20px;
            border-radius: var(--radius);
            margin-bottom: 15px;
            border-left: 4px solid var(--logo-green);
        }
        
        .comment-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.85rem;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .comment-author {
            font-weight: 600;
            color: var(--dark);
        }
        
        .comment-date {
            color: var(--gray);
        }
        
        .comment-type {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .public {
            background-color: #e8f5e9;
            color: var(--logo-green);
        }
        
        .anonymous {
            background-color: #ffebee;
            color: var(--logo-red);
        }
        
        .comment-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 15px;
        }
        
        .action-btn {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            font-size: 0.85rem;
            transition: color 0.3s;
            padding: 5px;
        }
        
        .action-btn:hover {
            color: var(--danger);
        }
        
        /* Contact Section */
        .contact-section {
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            border-radius: var(--radius);
            border: 1px solid #c8e6c9;
        }
        
        .contact-section h4 {
            color: var(--dark);
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .contact-details {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }
        
        .contact-details > div {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95rem;
        }
        
        /* Statistics Card */
        .statistics-card {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: white;
            border-top: 4px solid var(--logo-gold);
        }
        
        .statistics-card h3 {
            color: white;
            border-bottom-color: rgba(255, 255, 255, 0.2);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
        }
        
        .stat-value-lg {
            font-size: 2rem;
            font-weight: 700;
            color: var(--logo-gold);
            margin-bottom: 5px;
        }
        
        .stat-label-lg {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Admin Panel */
        .admin-panel {
            position: fixed;
            bottom: 25px;
            right: 25px;
            z-index: 100;
        }
        
        .admin-btn {
            background-color: var(--dark);
            color: white;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .admin-btn:hover {
            transform: scale(1.1);
            background-color: var(--logo-green);
        }
        
        .admin-login {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }
        
        .login-box {
            background-color: white;
            padding: 35px;
            border-radius: var(--radius);
            max-width: 380px;
            width: 100%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .login-box h3 {
            text-align: center;
            margin-bottom: 25px;
            color: var(--dark);
        }
        
        .admin-controls {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100%;
            background-color: white;
            box-shadow: -5px 0 20px rgba(0, 0, 0, 0.1);
            padding: 25px;
            overflow-y: auto;
            transition: right 0.3s ease;
            z-index: 999;
        }
        
        @media (max-width: 768px) {
            .admin-controls {
                width: 100%;
                right: -100%;
            }
            
            .login-box {
                padding: 25px;
            }
        }
        
        .admin-controls.active {
            right: 0;
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }
        
        .admin-header h3 {
            color: var(--dark);
            margin: 0;
            padding: 0;
            border: none;
        }
        
        .close-admin {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--gray);
            cursor: pointer;
        }
        
        .admin-section {
            margin-bottom: 25px;
        }
        
        .admin-section h4 {
            font-size: 1.05rem;
            margin-bottom: 15px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .danger-zone {
            border: 2px solid var(--logo-red);
            border-radius: var(--radius);
            padding: 20px;
            margin-top: 25px;
        }
        
        .danger-zone h4 {
            color: var(--logo-red);
        }
        
        .btn-danger {
            background-color: var(--logo-red);
        }
        
        .btn-danger:hover {
            background-color: #c62828;
        }
        
        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 40px 0;
            text-align: center;
            margin-top: 60px;
        }
        
        .footer-content {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 20px;
        }
        
        .copyright {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.85rem;
            opacity: 0.7;
            width: 100%;
        }
        
        /* Responsive Improvements */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .contact-info {
                width: 100%;
                justify-content: center;
            }
            
            .phone {
                padding: 8px 16px;
                font-size: 0.9rem;
            }
            
            .hero {
                padding: 40px 0;
            }
            
            .hero h2 {
                font-size: 1.8rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .content-wrapper {
                margin: 25px 0;
            }
            
            .card {
                padding: 20px;
            }
            
            .progress-stats {
                flex-direction: column;
                gap: 15px;
            }
            
            .progress-stat {
                padding: 0;
            }
            
            .admin-btn {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
                bottom: 20px;
                right: 20px;
            }
            
            /* Mobile sidebar order fix */
            .sidebar {
                display: flex;
                flex-direction: column;
            }
            
            .project-details-card {
                order: 2;
            }
            
            .contact-section {
                order: 3;
                margin-top: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }
            
            .logo-text h1 {
                font-size: 1.4rem;
            }
            
            .hero h2 {
                font-size: 1.6rem;
            }
            
            .card h3 {
                font-size: 1.3rem;
            }
            
            .stat-value {
                font-size: 1.3rem;
            }
        }
        
        /* Utility Classes */
        .hidden {
            display: none !important;
        }
        
        .mt-15 {
            margin-top: 15px;
        }
        
        .mt-20 {
            margin-top: 20px;
        }
        
        .mb-15 {
            margin-bottom: 15px;
        }
        
        .mb-20 {
            margin-bottom: 20px;
        }
        
        .text-center {
            text-align: center;
        }
        
        /* TikTok Embed Fix */
        .tiktok-embed-container {
            width: 100%;
            height: 100%;
            margin: 0 auto;
        }
        
        .tiktok-embed {
            width: 100%;
            height: 100%;
            min-height: 500px;
        }
        
        /* Sync Status */
        .sync-status {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .sync-success {
            background-color: #e8f5e9;
            color: var(--logo-green);
        }
        
        .sync-failed {
            background-color: #ffebee;
            color: var(--logo-red);
        }
        
        /* Statistics Table */
        .stats-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 0.85rem;
        }
        
        .stats-table th, .stats-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stats-table th {
            font-weight: 600;
            color: var(--logo-gold);
        }
        
        @media (max-width: 768px) {
            .stats-table {
                font-size: 0.75rem;
            }
            
            .stats-table th, .stats-table td {
                padding: 8px;
            }
        }
        
        /* Refresh Indicator */
        .refresh-indicator {
            display: none;
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--logo-green);
            color: white;
            padding: 10px 20px;
            border-radius: var(--radius);
            z-index: 10000;
            box-shadow: var(--shadow);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- Refresh Indicator -->
    <div class="refresh-indicator" id="refreshIndicator">
        <i class="fas fa-sync-alt"></i> Content Updated
    </div>
    
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-church"></i>
                </div>
                <div class="logo-text">
                    <h1>ፍኖተ ብርሀን ዘ ብሔረ ጽጌ</h1>
                    <p>Sunday School Construction Project</p>
                </div>
            </div>
            
            <div class="contact-info">
                <div class="phone">
                    <i class="fas fa-phone"></i>
                    <span id="contactPhone">+251 91 234 5678</span>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Building Our Future Together</h2>
            <p>Follow the progress of our new Sunday School construction. Watch updates, see how far we've come, and share your thoughts with our community.</p>
        </div>
    </section>
    
    <!-- Main Content -->
    <div class="container">
        <div class="content-wrapper">
            <!-- Left Column - Main Content -->
            <div class="main-content">
                <!-- Progress Section -->
                <section class="card progress-section">
                    <h3><i class="fas fa-hard-hat"></i> Construction Progress</h3>
                    <p>We're building a new Sunday School facility to serve our community better. Here's how far we've come:</p>
                    
                    <div class="progress-bar">
                        <div class="progress" id="progressBar" style="width: 65%;"></div>
                    </div>
                    
                    <div class="progress-stats">
                        <div class="progress-stat">
                            <div class="stat-value" id="progressPercent">65%</div>
                            <div class="stat-label">Completed</div>
                        </div>
                        <div class="progress-stat">
                            <div class="stat-value" id="daysLeft">45</div>
                            <div class="stat-label">Days Remaining</div>
                        </div>
                        <div class="progress-stat">
                            <div class="stat-value" id="fundsRaised">ETB 12,450,000</div>
                            <div class="stat-label">Raised of ETB 19,500,000</div>
                        </div>
                    </div>
                </section>
                
                <!-- Video Section -->
                <section class="card">
                    <h3><i class="fas fa-video"></i> Latest Construction Update</h3>
                    <p>Watch our most recent construction progress video:</p>
                    
                    <div class="video-container" id="videoContainer">
                        <div class="video-wrapper">
                            <!-- TikTok video will be embedded here -->
                        </div>
                    </div>
                    
                    <div class="video-description" id="videoDescription">
                        This week's update shows the completion of the roof structure. Our team has been working diligently to ensure the building is weatherproof before the rainy season. Next week we'll begin interior wall installations.
                    </div>
                    
                    <div class="video-info">
                        <span><i class="far fa-calendar"></i> <span id="videoDate">October 20, 2023</span></span>
                        <span><i class="far fa-eye"></i> <span id="videoViews">1,245 views</span></span>
                        <span id="syncStatus" class="sync-status sync-success">Live <i class="fas fa-check-circle"></i></span>
                    </div>
                </section>
                
                <!-- Comments Section -->
                <section class="card">
                    <h3><i class="fas fa-comments"></i> Community Comments</h3>
                    <p>Share your thoughts, prayers, and encouragement for our project.</p>
                    
                    <div class="comment-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="commentName">Your Name (Optional)</label>
                                <input type="text" id="commentName" placeholder="Leave blank for anonymous">
                            </div>
                            <div class="form-group">
                                <label for="commentType">Comment Visibility</label>
                                <select id="commentType">
                                    <option value="public">Public (Show my name)</option>
                                    <option value="anonymous">Anonymous</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="commentText">Your Message</label>
                            <textarea id="commentText" rows="4" placeholder="Share your thoughts, prayers, or encouragement..."></textarea>
                        </div>
                        
                        <button class="btn" id="submitComment">
                            <i class="fas fa-paper-plane"></i> Post Comment
                        </button>
                    </div>
                    
                    <div class="comments-list" id="commentsList">
                        <!-- Comments will be dynamically added here -->
                    </div>
                </section>
            </div>
            
            <!-- Right Column - Sidebar -->
            <div class="sidebar">
                <!-- Contact Section - Will be at bottom on mobile -->
                <section class="contact-section">
                    <h4><i class="fas fa-phone-alt"></i> Contact Us</h4>
                    <p>Have questions about the project? Get in touch with us:</p>
                    
                    <div class="contact-details">
                        <div class="phone-contact">
                            <i class="fas fa-phone"></i>
                            <div id="sidebarPhone">+251 91 234 5678</div>
                        </div>
                        <div class="email-contact">
                            <i class="fas fa-envelope"></i>
                            <div>info@fenotebirhan.org</div>
                        </div>
                        <div class="location-contact">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>Addis Ababa, Ethiopia</div>
                        </div>
                    </div>
                </section>
                
                <!-- Project Details -->
                <section class="card project-details-card">
                    <h3><i class="fas fa-info-circle"></i> Project Details</h3>
                    <div class="project-details">
                        <div class="detail-item mb-15">
                            <div class="detail-label">Building Size</div>
                            <div class="detail-value">12,000 sq. ft.</div>
                        </div>
                        <div class="detail-item mb-15">
                            <div class="detail-label">Estimated Completion</div>
                            <div class="detail-value">December 2023</div>
                        </div>
                        <div class="detail-item mb-15">
                            <div class="detail-label">Children Capacity</div>
                            <div class="detail-value">Up to 180</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Construction Start</div>
                            <div class="detail-value">March 2023</div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-church"></i>
                    </div>
                    <div class="logo-text">
                        <h1>ፍኖተ ብርሀን ዘ ብሔረ ጽጌ</h1>
                        <p>Building a brighter future through faith</p>
                    </div>
                </div>
                
                <div class="copyright">
                    &copy; 2023 ፍኖተ ብርሀን ዘ ብሔረ ጽጌ Sunday School. All Rights Reserved.
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Admin Button -->
    <div class="admin-panel">
        <div class="admin-btn" id="adminBtn">
            <i class="fas fa-cog"></i>
        </div>
    </div>
    
    <!-- Admin Login Modal -->
    <div class="admin-login" id="adminLogin">
        <div class="login-box">
            <h3><i class="fas fa-lock"></i> Admin Access</h3>
            <div class="form-group">
                <label for="adminPassword">Enter Admin Password</label>
                <input type="password" id="adminPassword" placeholder="Password">
            </div>
            <button class="btn" id="loginBtn">
                <i class="fas fa-sign-in-alt"></i> Login
            </button>
            <p class="mt-20" style="font-size: 0.85rem; color: var(--gray); text-align: center;">
                Only authorized administrators can access the control panel.
            </p>
        </div>
    </div>
    
    <!-- Admin Controls Panel -->
    <div class="admin-controls" id="adminControls">
        <div class="admin-header">
            <h3><i class="fas fa-cogs"></i> Admin Controls</h3>
            <button class="close-admin" id="closeAdmin">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <!-- Video Management -->
        <div class="admin-section">
            <h4><i class="fas fa-video"></i> Update Video</h4>
            <div class="form-group">
                <label for="adminVideoUrl">TikTok Video URL</label>
                <input type="text" id="adminVideoUrl" placeholder="https://www.tiktok.com/@logawwwww/video/7595218252356128020?is_from_webapp=1&sender_device=pc">
                <small style="color: var(--gray); font-size: 0.8rem;">Enter the full TikTok video URL</small>
            </div>
            <div class="form-group">
                <label for="adminVideoTitle">Video Title</label>
                <input type="text" id="adminVideoTitle" placeholder="Week 18: Structural Work Complete">
            </div>
            <div class="form-group">
                <label for="adminVideoDescription">Video Description</label>
                <textarea id="adminVideoDescription" rows="3" placeholder="Add a description for this video update"></textarea>
            </div>
            <button class="btn" id="updateVideoBtn">
                <i class="fas fa-sync-alt"></i> Update Video & Sync
            </button>
            <div class="mt-15" style="font-size: 0.85rem; color: var(--gray);">
                <i class="fas fa-info-circle"></i> Updates will sync across all devices worldwide
            </div>
        </div>
        
        <!-- Statistics Section (Admin Only) -->
        <div class="admin-section">
            <h4><i class="fas fa-chart-bar"></i> Website Statistics</h4>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value-lg" id="totalVisits">0</div>
                    <div class="stat-label-lg">Total Visits</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value-lg" id="videoPlays">0</div>
                    <div class="stat-label-lg">Video Plays</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value-lg" id="commentsCount">0</div>
                    <div class="stat-label-lg">Comments</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value-lg" id="lastUpdated">Just now</div>
                    <div class="stat-label-lg">Last Updated</div>
                </div>
            </div>
            
            <div class="mt-20">
                <h4 style="font-size: 1rem;">Recent Activity</h4>
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Device</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="activityTable">
                        <!-- Activity rows will be added here -->
                    </tbody>
                </table>
            </div>
            
            <button class="btn mt-15" id="refreshStats">
                <i class="fas fa-redo"></i> Refresh Statistics
            </button>
        </div>
        
        <!-- Progress Management -->
        <div class="admin-section">
            <h4><i class="fas fa-chart-line"></i> Update Progress</h4>
            <div class="form-group">
                <label for="adminProgress">Construction Progress (%)</label>
                <input type="range" id="adminProgress" min="0" max="100" value="65" step="1">
                <div class="text-center">
                    <span id="progressValue">65%</span>
                </div>
            </div>
            <div class="form-group">
                <label for="adminDays">Days Remaining</label>
                <input type="number" id="adminDays" value="45" min="0">
            </div>
            <div class="form-group">
                <label for="adminFunds">Funds Raised (ETB)</label>
                <input type="text" id="adminFunds" value="12,450,000">
            </div>
            <button class="btn" id="updateProgressBtn">
                <i class="fas fa-save"></i> Update Progress & Sync
            </button>
        </div>
        
        <!-- Contact Management -->
        <div class="admin-section">
            <h4><i class="fas fa-address-book"></i> Update Contact Info</h4>
            <div class="form-group">
                <label for="adminPhone">Phone Number</label>
                <input type="text" id="adminPhone" value="+251 91 234 5678">
            </div>
            <button class="btn" id="updatePhoneBtn">
                <i class="fas fa-phone"></i> Update Phone & Sync
            </button>
        </div>
        
        <!-- Comments Management -->
        <div class="admin-section">
            <h4><i class="fas fa-comments"></i> Manage Comments</h4>
            <div id="adminCommentsList">
                <!-- Admin comment list will be added here -->
            </div>
        </div>
        
        <!-- Danger Zone -->
        <div class="danger-zone">
            <h4><i class="fas fa-exclamation-triangle"></i> Danger Zone</h4>
            <p style="font-size: 0.85rem; margin-bottom: 15px; color: var(--gray);">
                These actions cannot be undone. Proceed with caution.
            </p>
            <div class="form-group">
                <label for="deleteCommentId">Delete Comment by ID</label>
                <input type="text" id="deleteCommentId" placeholder="Enter comment ID">
            </div>
            <button class="btn btn-danger" id="deleteCommentBtn">
                <i class="fas fa-trash"></i> Delete Comment
            </button>
            
            <div class="mt-15">
                <button class="btn btn-danger" id="clearCommentsBtn">
                    <i class="fas fa-broom"></i> Clear All Comments
                </button>
            </div>
            
            <div class="mt-15">
                <button class="btn btn-danger" id="resetStatsBtn">
                    <i class="fas fa-eraser"></i> Reset Statistics
                </button>
            </div>
            
            <div class="mt-15">
                <button class="btn btn-danger" id="clearExampleDataBtn">
                    <i class="fas fa-trash-alt"></i> Clear Example Data
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // Admin Password
        const ADMIN_PASSWORD = "2121maryam2121";
        
        // Initialize data
        let comments = [];
        let statistics = {
            totalVisits: 0,
            videoPlays: 0,
            commentsCount: 0,
            lastUpdated: new Date().toLocaleDateString(),
            activityLog: []
        };
        
        // Default TikTok embed
        const defaultTikTokEmbed = `
            <div class="tiktok-embed-container">
                <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@logawwwww/video/7595218252356128020" data-video-id="7291234567891012345" style="max-width: 605px;min-width: 325px;">
                    <section></section>
                </blockquote>
            </div>
        `;
        
        // DOM Elements
        const adminBtn = document.getElementById('adminBtn');
        const adminLogin = document.getElementById('adminLogin');
        const adminControls = document.getElementById('adminControls');
        const closeAdmin = document.getElementById('closeAdmin');
        const loginBtn = document.getElementById('loginBtn');
        const adminPasswordInput = document.getElementById('adminPassword');
        const submitCommentBtn = document.getElementById('submitComment');
        const commentsList = document.getElementById('commentsList');
        const adminCommentsList = document.getElementById('adminCommentsList');
        const deleteCommentBtn = document.getElementById('deleteCommentBtn');
        const clearCommentsBtn = document.getElementById('clearCommentsBtn');
        const deleteCommentIdInput = document.getElementById('deleteCommentId');
        const videoContainer = document.querySelector('.video-wrapper');
        const videoDescription = document.getElementById('videoDescription');
        const syncStatus = document.getElementById('syncStatus');
        const refreshStatsBtn = document.getElementById('refreshStats');
        const resetStatsBtn = document.getElementById('resetStatsBtn');
        const clearExampleDataBtn = document.getElementById('clearExampleDataBtn');
        const refreshIndicator = document.getElementById('refreshIndicator');
        const totalVisitsEl = document.getElementById('totalVisits');
        const videoPlaysEl = document.getElementById('videoPlays');
        const commentsCountEl = document.getElementById('commentsCount');
        const lastUpdatedEl = document.getElementById('lastUpdated');
        const activityTable = document.getElementById('activityTable');
        
        // Video update elements
        const updateVideoBtn = document.getElementById('updateVideoBtn');
        const adminVideoUrl = document.getElementById('adminVideoUrl');
        const adminVideoTitle = document.getElementById('adminVideoTitle');
        const adminVideoDescription = document.getElementById('adminVideoDescription');
        const videoDate = document.getElementById('videoDate');
        const videoViews = document.getElementById('videoViews');
        
        // Progress update elements
        const updateProgressBtn = document.getElementById('updateProgressBtn');
        const adminProgress = document.getElementById('adminProgress');
        const progressValue = document.getElementById('progressValue');
        const progressBar = document.getElementById('progressBar');
        const progressPercent = document.getElementById('progressPercent');
        const adminDays = document.getElementById('adminDays');
        const daysLeft = document.getElementById('daysLeft');
        const adminFunds = document.getElementById('adminFunds');
        const fundsRaised = document.getElementById('fundsRaised');
        
        // Contact update elements
        const updatePhoneBtn = document.getElementById('updatePhoneBtn');
        const adminPhone = document.getElementById('adminPhone');
        const contactPhone = document.getElementById('contactPhone');
        const sidebarPhone = document.getElementById('sidebarPhone');
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            // Track visit
            trackVisit();
            
            // Load TikTok embed script
            loadTikTokScript();
            
            // Check for updates from server
            checkForUpdates();
            
            // Set up periodic sync
            setInterval(checkForUpdates, 30000); // Check every 30 seconds
            
            // Load saved data from localStorage
            loadSavedData();
            
            // Load comments
            loadComments();
            loadAdminComments();
            
            // Set up progress slider
            adminProgress.addEventListener('input', () => {
                progressValue.textContent = adminProgress.value + '%';
            });
            
            // Load statistics
            loadStatistics();
            
            // Set up video tracking
            setupVideoTracking();
            
            // Initialize with example data if empty
            initializeExampleData();
        });
        
        // Track website visit
        function trackVisit() {
            let stats = JSON.parse(localStorage.getItem('websiteStatistics')) || statistics;
            stats.totalVisits += 1;
            
            // Detect device type
            const device = /Mobile|Android|iPhone|iPad|iPod/i.test(navigator.userAgent) ? "Mobile" : 
                          /Tablet|iPad/i.test(navigator.userAgent) ? "Tablet" : "Desktop";
            
            // Add to activity log
            const now = new Date();
            const timeString = formatTimeAgo(now);
            
            stats.activityLog.unshift({
                time: timeString,
                device: device,
                action: "Visited site"
            });
            
            // Keep only last 10 activities
            if (stats.activityLog.length > 10) {
                stats.activityLog = stats.activityLog.slice(0, 10);
            }
            
            // Update last updated time
            stats.lastUpdated = timeString;
            
            localStorage.setItem('websiteStatistics', JSON.stringify(stats));
            statistics = stats;
            
            // Save to server (simulated)
            // Real implementation for Vercel
async function saveToServer(data) {
    try {
        const response = await fetch('/api/sync', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });
        return await response.json();
    } catch (error) {
        console.error('Sync failed:', error);
        // Fallback to localStorage
        localStorage.setItem('serverData', JSON.stringify(data));
    }
}

async function checkForUpdates() {
    try {
        const response = await fetch('/api/sync');
        const serverData = await response.json();
        applyServerUpdates(serverData);
    } catch (error) {
        console.error('Update check failed:', error);
    }
}
        }
        
        // Track video plays
        function setupVideoTracking() {
            document.addEventListener('click', (e) => {
                if (e.target.closest('.video-container') || e.target.closest('#videoContainer')) {
                    let stats = JSON.parse(localStorage.getItem('websiteStatistics')) || statistics;
                    stats.videoPlays += 1;
                    
                    const device = /Mobile|Android|iPhone|iPad|iPod/i.test(navigator.userAgent) ? "Mobile" : 
                                  /Tablet|iPad/i.test(navigator.userAgent) ? "Tablet" : "Desktop";
                    
                    const now = new Date();
                    const timeString = formatTimeAgo(now);
                    
                    stats.activityLog.unshift({
                        time: timeString,
                        device: device,
                        action: "Played video"
                    });
                    
                    // Keep only last 10 activities
                    if (stats.activityLog.length > 10) {
                        stats.activityLog = stats.activityLog.slice(0, 10);
                    }
                    
                    stats.lastUpdated = timeString;
                    localStorage.setItem('websiteStatistics', JSON.stringify(stats));
                    statistics = stats;
                    
                    // Update video views count
                    const currentViews = parseInt(videoViews.textContent.replace(/\D/g, '')) || 0;
                    videoViews.textContent = (currentViews + 1).toLocaleString() + ' views';
                    
                    // Save to server
                    saveToServer();
                }
            });
        }
        
        // Check for updates from server (simulated)
        function checkForUpdates() {
            const lastCheck = localStorage.getItem('lastServerCheck') || 0;
            const now = Date.now();
            
            // Only check every 30 seconds
            if (now - lastCheck < 30000) return;
            
            localStorage.setItem('lastServerCheck', now);
            
            // Simulate checking server for updates
            setTimeout(() => {
                // In a real app, this would fetch from your backend
                // For Vercel, you could use Serverless Functions or a database
                const serverData = localStorage.getItem('serverData');
                
                if (serverData) {
                    try {
                        const parsedData = JSON.parse(serverData);
                        applyServerUpdates(parsedData);
                    } catch (e) {
                        console.error('Error parsing server data:', e);
                    }
                }
                
                // Update sync status
                syncStatus.innerHTML = 'Live <i class="fas fa-check-circle"></i>';
                syncStatus.className = 'sync-status sync-success';
            }, 1000);
        }
        
        // Apply updates from server
        function applyServerUpdates(serverData) {
            let updated = false;
            
            // Check video data
            if (serverData.videoEmbed && serverData.videoEmbed !== localStorage.getItem('videoEmbed')) {
                videoContainer.innerHTML = serverData.videoEmbed;
                localStorage.setItem('videoEmbed', serverData.videoEmbed);
                updated = true;
            }
            
            if (serverData.videoDescription && serverData.videoDescription !== localStorage.getItem('videoDescription')) {
                videoDescription.textContent = serverData.videoDescription;
                localStorage.setItem('videoDescription', serverData.videoDescription);
                updated = true;
            }
            
            // Check comments
            if (serverData.comments && JSON.stringify(serverData.comments) !== localStorage.getItem('sundaySchoolComments')) {
                localStorage.setItem('sundaySchoolComments', JSON.stringify(serverData.comments));
                comments = serverData.comments;
                loadComments();
                loadAdminComments();
                updated = true;
            }
            
            // Check progress data
            if (serverData.progress && serverData.progress !== localStorage.getItem('constructionProgress')) {
                localStorage.setItem('constructionProgress', serverData.progress);
                progressBar.style.width = serverData.progress + '%';
                progressPercent.textContent = serverData.progress + '%';
                updated = true;
            }
            
            // Check contact data
            if (serverData.contactPhone && serverData.contactPhone !== localStorage.getItem('contactPhone')) {
                localStorage.setItem('contactPhone', serverData.contactPhone);
                contactPhone.textContent = serverData.contactPhone;
                sidebarPhone.textContent = serverData.contactPhone;
                updated = true;
            }
            
            // Check statistics
            if (serverData.statistics) {
                localStorage.setItem('websiteStatistics', JSON.stringify(serverData.statistics));
                statistics = serverData.statistics;
                loadStatistics();
                updated = true;
            }
            
            if (updated) {
                showRefreshIndicator();
            }
        }
        
        // Save data to server (simulated)
        function saveToServer() {
            const dataToSync = {
                comments: JSON.parse(localStorage.getItem('sundaySchoolComments')) || comments,
                videoEmbed: localStorage.getItem('videoEmbed'),
                videoDescription: localStorage.getItem('videoDescription'),
                progress: localStorage.getItem('constructionProgress'),
                contactPhone: localStorage.getItem('contactPhone'),
                statistics: JSON.parse(localStorage.getItem('websiteStatistics')) || statistics,
                lastSync: new Date().toISOString()
            };
            
            // In a real Vercel app, you would send this to your backend API
            // For now, we simulate by saving to localStorage
            localStorage.setItem('serverData', JSON.stringify(dataToSync));
            
            // Update sync status
            syncStatus.innerHTML = 'Synced <i class="fas fa-cloud-upload-alt"></i>';
            syncStatus.className = 'sync-status sync-success';
            
            setTimeout(() => {
                syncStatus.innerHTML = 'Live <i class="fas fa-check-circle"></i>';
                syncStatus.className = 'sync-status sync-success';
            }, 3000);
        }
        
        // Load TikTok embed script
        function loadTikTokScript() {
            const script = document.createElement('script');
            script.src = "https://www.tiktok.com/embed.js";
            script.async = true;
            document.body.appendChild(script);
        }
        
        // Load comments to public view
        function loadComments() {
            commentsList.innerHTML = '';
            
            // Get comments from localStorage
            const savedComments = JSON.parse(localStorage.getItem('sundaySchoolComments')) || comments;
            
            if (savedComments.length === 0) {
                commentsList.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 20px;">No comments yet. Be the first to share your thoughts!</p>';
                return;
            }
            
            savedComments.forEach(comment => {
                const commentElement = document.createElement('div');
                commentElement.className = 'comment-item';
                commentElement.dataset.id = comment.id;
                
                commentElement.innerHTML = `
                    <div class="comment-header">
                        <div>
                            <span class="comment-author">${comment.name}</span>
                            <span class="comment-type ${comment.type}">${comment.type === 'public' ? 'Public' : 'Anonymous'}</span>
                        </div>
                        <div class="comment-date">${comment.date}</div>
                    </div>
                    <div class="comment-text">${comment.text}</div>
                    <div class="comment-actions">
                        <button class="action-btn report-btn" data-id="${comment.id}">
                            <i class="fas fa-flag"></i> Report
                        </button>
                    </div>
                `;
                
                commentsList.appendChild(commentElement);
            });
            
            // Update comments count in statistics
            updateCommentsCount();
            
            // Add report button listeners
            document.querySelectorAll('.report-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const commentId = this.dataset.id;
                    if (confirm('Report this comment to administrators?')) {
                        alert('Comment reported. Administrators will review it.');
                    }
                });
            });
        }
        
        // Load comments to admin view
        function loadAdminComments() {
            adminCommentsList.innerHTML = '';
            
            const savedComments = JSON.parse(localStorage.getItem('sundaySchoolComments')) || comments;
            
            if (savedComments.length === 0) {
                adminCommentsList.innerHTML = '<p style="color: var(--gray); text-align: center; padding: 10px;">No comments to manage.</p>';
                return;
            }
            
            savedComments.forEach(comment => {
                const commentElement = document.createElement('div');
                commentElement.className = 'comment-item';
                commentElement.style.marginBottom = '10px';
                commentElement.dataset.id = comment.id;
                
                commentElement.innerHTML = `
                    <div class="comment-header">
                        <div>
                            <span class="comment-author">${comment.name}</span>
                            <span class="comment-type ${comment.type}">${comment.type === 'public' ? 'Public' : 'Anonymous'}</span>
                            <span style="font-size: 0.75rem; color: var(--gray);">ID: ${comment.id}</span>
                        </div>
                    </div>
                    <div class="comment-text">${comment.text}</div>
                    <div class="comment-actions">
                        <button class="action-btn delete-comment-btn" data-id="${comment.id}">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                `;
                
                adminCommentsList.appendChild(commentElement);
            });
            
            // Add delete button listeners for admin
            document.querySelectorAll('.delete-comment-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const commentId = parseInt(this.dataset.id);
                    deleteComment(commentId);
                });
            });
        }
        
        // Submit a new comment
        submitCommentBtn.addEventListener('click', () => {
            const nameInput = document.getElementById('commentName');
            const commentType = document.getElementById('commentType').value;
            const textInput = document.getElementById('commentText');
            
            const name = nameInput.value.trim() || 'Anonymous';
            const text = textInput.value.trim();
            
            if (!text) {
                alert('Please enter a message');
                return;
            }
            
            // Create new comment
            const newComment = {
                id: Date.now(),
                name: commentType === 'public' ? name : 'Anonymous',
                text: text,
                type: commentType,
                date: new Date().toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'short', 
                    day: 'numeric' 
                })
            };
            
            // Get existing comments
            const savedComments = JSON.parse(localStorage.getItem('sundaySchoolComments')) || comments;
            savedComments.unshift(newComment);
            
            // Save to localStorage
            localStorage.setItem('sundaySchoolComments', JSON.stringify(savedComments));
            
            // Track comment activity
            let stats = JSON.parse(localStorage.getItem('websiteStatistics')) || statistics;
            const device = /Mobile|Android|iPhone|iPad|iPod/i.test(navigator.userAgent) ? "Mobile" : 
                          /Tablet|iPad/i.test(navigator.userAgent) ? "Tablet" : "Desktop";
            
            const now = new Date();
            const timeString = formatTimeAgo(now);
            
            stats.activityLog.unshift({
                time: timeString,
                device: device,
                action: "Posted comment"
            });
            
            // Keep only last 10 activities
            if (stats.activityLog.length > 10) {
                stats.activityLog = stats.activityLog.slice(0, 10);
            }
            
            stats.lastUpdated = timeString;
            localStorage.setItem('websiteStatistics', JSON.stringify(stats));
            statistics = stats;
            
            // Save to server
            saveToServer();
            
            // Reload comments
            loadComments();
            loadAdminComments();
            
            // Clear form
            nameInput.value = '';
            textInput.value = '';
            
            // Show success message
            showNotification('Thank you for your comment!', 'success');
        });
        
        // Delete a comment
        function deleteComment(id) {
            if (!confirm('Are you sure you want to delete this comment?')) {
                return;
            }
            
            const savedComments = JSON.parse(localStorage.getItem('sundaySchoolComments')) || comments;
            const updatedComments = savedComments.filter(comment => comment.id !== id);
            
            // Save to localStorage
            localStorage.setItem('sundaySchoolComments', JSON.stringify(updatedComments));
            
            // Save to server
            saveToServer();
            
            // Reload comments
            loadComments();
            loadAdminComments();
            
            showNotification('Comment deleted successfully.', 'success');
        }
        
        // Clear all comments
        clearCommentsBtn.addEventListener('click', () => {
            if (!confirm('This will delete ALL comments. This action cannot be undone. Are you sure?')) {
                return;
            }
            
            localStorage.removeItem('sundaySchoolComments');
            comments = [];
            
            // Save to server
            saveToServer();
            
            loadComments();
            loadAdminComments();
            
            showNotification('All comments have been deleted.', 'success');
        });
        
        // Delete comment by ID
        deleteCommentBtn.addEventListener('click', () => {
            const id = parseInt(deleteCommentIdInput.value);
            if (!id) {
                alert('Please enter a valid comment ID');
                return;
            }
            
            deleteComment(id);
            deleteCommentIdInput.value = '';
        });
        
        // Load statistics
        function loadStatistics() {
            const stats = JSON.parse(localStorage.getItem('websiteStatistics')) || statistics;
            
            totalVisitsEl.textContent = stats.totalVisits.toLocaleString();
            videoPlaysEl.textContent = stats.videoPlays.toLocaleString();
            commentsCountEl.textContent = stats.commentsCount || comments.length;
            lastUpdatedEl.textContent = stats.lastUpdated || 'Just now';
            
            // Load activity log
            activityTable.innerHTML = '';
            stats.activityLog.forEach(activity => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${activity.time}</td>
                    <td>${activity.device}</td>
                    <td>${activity.action}</td>
                `;
                activityTable.appendChild(row);
            });
        }
        
        // Refresh statistics
        refreshStatsBtn.addEventListener('click', () => {
            loadStatistics();
            showNotification('Statistics refreshed', 'success');
        });
        
        // Reset statistics
        resetStatsBtn.addEventListener('click', () => {
            if (!confirm('Reset all statistics? This cannot be undone.')) {
                return;
            }
            
            statistics = {
                totalVisits: 0,
                videoPlays: 0,
                commentsCount: comments.length,
                lastUpdated: new Date().toLocaleDateString(),
                activityLog: []
            };
            
            localStorage.setItem('websiteStatistics', JSON.stringify(statistics));
            saveToServer();
            loadStatistics();
            
            showNotification('Statistics reset', 'success');
        });
        
        // Clear example data
        clearExampleDataBtn.addEventListener('click', () => {
            if (!confirm('Clear all example data and start fresh?')) {
                return;
            }
            
            // Clear all example data
            localStorage.removeItem('sundaySchoolComments');
            localStorage.removeItem('videoEmbed');
            localStorage.removeItem('videoDescription');
            localStorage.removeItem('websiteStatistics');
            
            // Reset to empty state
            comments = [];
            statistics = {
                totalVisits: 0,
                videoPlays: 0,
                commentsCount: 0,
                lastUpdated: new Date().toLocaleDateString(),
                activityLog: []
            };
            
            // Set default video placeholder
            videoContainer.innerHTML = `
                <div class="video-placeholder">
                    <i class="fab fa-tiktok"></i>
                    <h4>No video uploaded yet</h4>
                    <p>Admin can upload a TikTok video using the admin panel</p>
                </div>
            `;
            
            videoDescription.textContent = "Upload a video to see the description here.";
            videoDate.textContent = new Date().toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            videoViews.textContent = "0 views";
            
            // Save to server
            saveToServer();
            
            // Reload everything
            loadComments();
            loadAdminComments();
            loadStatistics();
            
            showNotification('All example data cleared.', 'success');
        });
        
        // Update comments count
        function updateCommentsCount() {
            const savedComments = JSON.parse(localStorage.getItem('sundaySchoolComments')) || comments;
            const count = savedComments.length;
            
            // Update admin statistics
            let stats = JSON.parse(localStorage.getItem('websiteStatistics')) || statistics;
            stats.commentsCount = count;
            localStorage.setItem('websiteStatistics', JSON.stringify(stats));
            
            if (commentsCountEl) {
                commentsCountEl.textContent = count;
            }
        }
        
        // Initialize with example data if empty
        function initializeExampleData() {
            const hasData = localStorage.getItem('sundaySchoolComments') || 
                           localStorage.getItem('videoEmbed') || 
                           localStorage.getItem('websiteStatistics');
            
            if (!hasData) {
                // Add some example comments
                const exampleComments = [
                    { id: 1, name: "Samuel G.", text: "This is amazing progress! God bless everyone involved in this project.", type: "public", date: "Oct 18, 2023" },
                    { id: 2, name: "Anonymous", text: "Praying for the safety of all workers. Can't wait to see the finished building!", type: "anonymous", date: "Oct 16, 2023" }
                ];
                
                localStorage.setItem('sundaySchoolComments', JSON.stringify(exampleComments));
                comments = exampleComments;
                
                // Set example statistics
                statistics = {
                    totalVisits: 1245,
                    videoPlays: 856,
                    commentsCount: exampleComments.length,
                    lastUpdated: new Date().toLocaleDateString(),
                    activityLog: [
                        { time: "2 hours ago", device: "Mobile", action: "Viewed video" },
                        { time: "5 hours ago", device: "Desktop", action: "Posted comment" }
                    ]
                };
                
                localStorage.setItem('websiteStatistics', JSON.stringify(statistics));
                
                // Load everything
                loadComments();
                loadAdminComments();
                loadStatistics();
            }
        }
        
        // Admin login
        adminBtn.addEventListener('click', () => {
            adminLogin.style.display = 'flex';
            adminPasswordInput.focus();
        });
        
        // Close admin login
        adminLogin.addEventListener('click', (e) => {
            if (e.target === adminLogin) {
                adminLogin.style.display = 'none';
                adminPasswordInput.value = '';
            }
        });
        
        // Attempt login
        loginBtn.addEventListener('click', () => {
            const password = adminPasswordInput.value;
            
            if (password === ADMIN_PASSWORD) {
                adminLogin.style.display = 'none';
                adminControls.classList.add('active');
                adminPasswordInput.value = '';
                
                // Load current data into admin controls
                loadCurrentDataToAdmin();
                loadStatistics();
            } else {
                alert('Incorrect password. Access denied.');
                adminPasswordInput.value = '';
                adminPasswordInput.focus();
            }
        });
        
        // Close admin controls
        closeAdmin.addEventListener('click', () => {
            adminControls.classList.remove('active');
        });
        
        // Update video
        updateVideoBtn.addEventListener('click', () => {
            const url = adminVideoUrl.value.trim();
            const title = adminVideoTitle.value.trim();
            const description = adminVideoDescription.value.trim();
            
            if (!url) {
                alert('Please enter a TikTok URL');
                return;
            }
            
            let embedCode = '';
            
            // Extract video ID from TikTok URL
            const videoIdMatch = url.match(/\/video\/(\d+)/);
            if (videoIdMatch) {
                const videoId = videoIdMatch[1];
                embedCode = `
                    <div class="tiktok-embed-container">
                        <blockquote class="tiktok-embed" cite="${url}" data-video-id="${videoId}" style="max-width: 605px;min-width: 325px;">
                            <section></section>
                        </blockquote>
                    </div>
                `;
            } else {
                alert('Please enter a valid TikTok video URL (e.g., https://www.tiktok.com/@user/video/123456789)');
                return;
            }
            
            // Update video embed
            videoContainer.innerHTML = embedCode;
            
            // Update video description if provided
            if (description) {
                videoDescription.textContent = description;
                localStorage.setItem('videoDescription', description);
            }
            
            // Update video date
            const today = new Date().toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            videoDate.textContent = today;
            
            // Generate random views
            const views = Math.floor(Math.random() * 5000) + 1000;
            videoViews.textContent = views.toLocaleString() + ' views';
            
            // Save to localStorage
            localStorage.setItem('videoEmbed', embedCode);
            localStorage.setItem('videoTitle', title);
            
            // Save to server
            saveToServer();
            
            // Track video update activity
            let stats = JSON.parse(localStorage.getItem('websiteStatistics')) || statistics;
            const now = new Date();
            const timeString = formatTimeAgo(now);
            
            stats.activityLog.unshift({
                time: timeString,
                device: "Admin",
                action: "Updated video"
            });
            
            localStorage.setItem('websiteStatistics', JSON.stringify(stats));
            
            // Reload TikTok embed script
            loadTikTokScript();
            
            // Show refresh indicator on other devices
            showRefreshIndicator();
            
            showNotification('Video updated and synced worldwide!', 'success');
        });
        
        // Update progress
        updateProgressBtn.addEventListener('click', () => {
            const progress = adminProgress.value;
            const days = adminDays.value;
            const funds = adminFunds.value;
            
            // Update progress bar
            progressBar.style.width = progress + '%';
            progressPercent.textContent = progress + '%';
            
            // Update days remaining
            daysLeft.textContent = days;
            
            // Update funds raised (ensure ETB prefix)
            const fundsValue = funds.startsWith('ETB ') ? funds : `ETB ${funds}`;
            fundsRaised.textContent = fundsValue;
            
            // Save to localStorage
            localStorage.setItem('constructionProgress', progress);
            localStorage.setItem('daysRemaining', days);
            localStorage.setItem('fundsRaised', funds);
            
            // Save to server
            saveToServer();
            
            // Show refresh indicator
            showRefreshIndicator();
            
            showNotification('Progress updated and synced worldwide!', 'success');
        });
        
        // Update phone number
        updatePhoneBtn.addEventListener('click', () => {
            const phone = adminPhone.value.trim();
            
            if (!phone) {
                alert('Please enter a phone number');
                return;
            }
            
            contactPhone.textContent = phone;
            sidebarPhone.textContent = phone;
            
            // Save to localStorage
            localStorage.setItem('contactPhone', phone);
            
            // Save to server
            saveToServer();
            
            // Show refresh indicator
            showRefreshIndicator();
            
            showNotification('Phone number updated and synced worldwide!', 'success');
        });
        
        // Load current data into admin controls
        function loadCurrentDataToAdmin() {
            // Load video data
            const savedVideoEmbed = localStorage.getItem('videoEmbed');
            const savedVideoTitle = localStorage.getItem('videoTitle');
            const savedVideoDescription = localStorage.getItem('videoDescription');
            
            if (savedVideoEmbed) adminVideoUrl.value = 'https://www.tiktok.com/@user/video/123456789';
            if (savedVideoTitle) adminVideoTitle.value = savedVideoTitle;
            if (savedVideoDescription) adminVideoDescription.value = savedVideoDescription;
            
            // Load progress data
            const savedProgress = localStorage.getItem('constructionProgress');
            const savedDays = localStorage.getItem('daysRemaining');
            const savedFunds = localStorage.getItem('fundsRaised');
            
            if (savedProgress) {
                adminProgress.value = savedProgress;
                progressValue.textContent = savedProgress + '%';
            }
            
            if (savedDays) adminDays.value = savedDays;
            if (savedFunds) adminFunds.value = savedFunds.replace('ETB ', '');
            
            // Load phone data
            const savedPhone = localStorage.getItem('contactPhone');
            if (savedPhone) adminPhone.value = savedPhone;
        }
        
        // Load saved data on page load
        function loadSavedData() {
            // Load video data
            const savedVideoEmbed = localStorage.getItem('videoEmbed');
            if (savedVideoEmbed) {
                videoContainer.innerHTML = savedVideoEmbed;
            } else {
                videoContainer.innerHTML = defaultTikTokEmbed;
            }
            
            const savedVideoDescription = localStorage.getItem('videoDescription');
            if (savedVideoDescription) {
                videoDescription.textContent = savedVideoDescription;
            }
            
            // Load progress data
            const savedProgress = localStorage.getItem('constructionProgress');
            if (savedProgress) {
                progressBar.style.width = savedProgress + '%';
                progressPercent.textContent = savedProgress + '%';
                adminProgress.value = savedProgress;
                progressValue.textContent = savedProgress + '%';
            }
            
            const savedDays = localStorage.getItem('daysRemaining');
            if (savedDays) {
                daysLeft.textContent = savedDays;
                adminDays.value = savedDays;
            }
            
            const savedFunds = localStorage.getItem('fundsRaised');
            if (savedFunds) {
                fundsRaised.textContent = savedFunds.startsWith('ETB ') ? savedFunds : `ETB ${savedFunds}`;
                adminFunds.value = savedFunds.replace('ETB ', '');
            }
            
            // Load phone data
            const savedPhone = localStorage.getItem('contactPhone');
            if (savedPhone) {
                contactPhone.textContent = savedPhone;
                sidebarPhone.textContent = savedPhone;
                adminPhone.value = savedPhone;
            }
            
            // Update video date to today if not set
            const today = new Date().toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            videoDate.textContent = today;
        }
        
        // Format time ago
        function formatTimeAgo(date) {
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMs / 3600000);
            const diffDays = Math.floor(diffMs / 86400000);
            
            if (diffMins < 1) return 'Just now';
            if (diffMins < 60) return `${diffMins} minute${diffMins === 1 ? '' : 's'} ago`;
            if (diffHours < 24) return `${diffHours} hour${diffHours === 1 ? '' : 's'} ago`;
            if (diffDays < 7) return `${diffDays} day${diffDays === 1 ? '' : 's'} ago`;
            return date.toLocaleDateString();
        }
        
        // Show refresh indicator
        function showRefreshIndicator() {
            refreshIndicator.style.display = 'block';
            
            setTimeout(() => {
                refreshIndicator.style.display = 'none';
            }, 3000);
        }
        
        // Show notification
        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                background-color: ${type === 'success' ? 'var(--logo-green)' : 'var(--logo-red)'};
                color: white;
                border-radius: var(--radius);
                box-shadow: var(--shadow);
                z-index: 10000;
                font-weight: 500;
                max-width: 300px;
                animation: slideIn 0.3s ease;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
            
            // Add CSS animations
            if (!document.querySelector('#notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }
        
        // Handle Enter key in admin password field
        adminPasswordInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                loginBtn.click();
            }
        });
    </script>
</body>
</html>



